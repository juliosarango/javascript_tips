<html>
    <head>
        <title>Fundamentos de javascript</title>
        <style>
           * {
               font-size: 14px;
           }
        </style>
    </head>
    <body>
        <h2>bind, call, apply</h2>
        <button id="boton">Off </button>
        <script type="text/javascript">
           class Toggable {
               constructor(el) {
                   this.el = el;
                   this.el.innerHTML = 'Off';
                   this.activated = false;
                   this.el.addEventListener('click',this.onClick.bind(this)) //es necesario hacer el bind en este caso
               }

               onClick() {
                   this.activated = !this.activated;
                   this.toggleText();
               }

               toggleText() {
                   this.el.innerHTML = this.activated ? 'On':'Off';
               }

           }

           const button = document.getElementById('boton');
           const miBoton = new Toggable(button);

           //otra forma de hacer bind en argumentos de paramatros
           function saludar(nombre, apellido) {
               console.log(`Hola ${nombre} ${apellido}`);
           }

           saludar("Julio","Sarango");

           const saludarJulio = saludar.bind(null,"Julio");
           //la funcion bind devuelve otra funcion con el primer parámetro seteado
           console.log(saludarJulio);
           saludarJulio("Sarango"); //solo debemos enviar el segundo parámetro
           saludarJulio("Ramos"); //solo debemos enviar el segundo parámetro

           ///////
           var fn = function(param1, param2) {
               console.info(this,param1,param2);
           }

           fn('hola','mundo');

           var fn2 = fn.bind(console,'param1Fixed');
           fn2('adios','mundo cruel');

           var fn3 = fn.bind({},'Julio Aurelio');
           fn3('tercera','llamada');



          
        </script>
    </body>
</html>
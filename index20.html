<html>
    <head>
        <title>Fundamentos de javascript</title>        
    </head>
    <body>
        <h2>async-await</h2>        
        <script type="text/javascript">
            /*
            Para realizar este ejercicio vamos a la pagina de babel Para
            transpilar nuestro codigo a es2015
            el codigo transpilado estpa en codepen
            http://codepen.io/jsarangoq/pen/pPopGj?editors=0012
            */                                   

            function handleError(err){
                console.log(`Request failed: ${err}`)
            }

            async function getLuke(){
            try {
                const response =  await fetch('http://swapi.co/api/people/1/');
                const luke = await response.json();
                const responseHomeWorld = await fetch(luke.homeworld);
                luke.homeworld = await responseHomeWorld.json();
                console.log(`${luke.name} naci√≥ en ${luke.homeworld.name}`);
            } catch(err) {
                handleError(err)
            }
            }
            
            getLuke();
          
        </script>
    </body>
</html>
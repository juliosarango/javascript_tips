<html>
    <head>
        <title>
            Javascript Fundamentos
        </title>
    </head>
    <body>
        <script type="application/javascript">     
            //crear un lenguaje
            function platzom(str) {
                let translation = str;
                //si la palabra termina en ar se quitan esos dos catacteres
                if (str.toLowerCase().endsWith('ar')) {
                    translation = str.slice(0,-2); //desde el final sacar dos caracteres                    
                }
                //si la palabra incia con z, se le añade pe al final
                if (str.toLowerCase().startsWith('z')) {
                    translation += 'pe';
                }

                //si la palabra traducida tiene >= 10 letras, se debe partir en la mitad type
                //separar con un guión
                
                const length = translation.length;
                if (length >= 10) {
                    const firstHalf = translation.slice(0,Math.round(length/2));
                    const secondHalf = translation.slice(Math.round(length/2));
                    translation = `${firstHalf}-${secondHalf}`;
                }

                //si la palabra es un palindromo, ninguna regla anterior cuenta
                //y se devuelve la misma palabra intercambiano mayúsculas y minúsculas
                
                const reverse = (str) => str.split('').reverse().join('');
                
                const minMay = (str) => {
                    const length = str.length;
                    let translation = '';
                    let capitalize = true;                    
                    for (let i = 0; i < length; i++) {
                        const char = str.charAt(i);
                        console.log(char);
                        translation += capitalize ? char.toUpperCase(): char.toLowerCase();
                        capitalize = !capitalize;
                        console.log(capitalize);
                    }
                    console.log(translation);
                    return translation;
                }

                if (str == reverse(str)){
                    return minMay(str);

                }

                console.log(translation);
                return translation;

            }

            platzom('programar'); //program
            platzom('zorro');  //zorrope
            platzom('zarpar'); //zarppe
            platzom('programaticamar'); //program-aticam
            platzom('abecedario'); //abece-dario
            platzom('ana'); //abece-dario
        </script>
    </body>
    

</html>
